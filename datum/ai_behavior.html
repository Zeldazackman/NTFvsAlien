<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/ai_behavior - byond</title></head><body><header><a href="index.html">byond</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/ai_behavior.html#var">Var Details</a> - <a href="datum/ai_behavior.html#proc">Proc Details</a></header><main><h1>ai_behavior <aside>/<a href="datum.html">datum</a>/<a href="datum/ai_behavior.html">ai_behavior</a></aside> <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 8"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/ai_behavior.html#var/ability_list">ability_list</a></th><td>List of abilities to consider doing every Process()</td></tr><tr><th><a href="datum/ai_behavior.html#var/anti_stuck_timer">anti_stuck_timer</a></th><td>When this timer is up, we force a change of node to ensure that the ai will never stay stuck trying to go to a specific node</td></tr><tr><th><a href="datum/ai_behavior.html#var/atom_to_walk_to">atom_to_walk_to</a></th><td>What atom is the ai moving to</td></tr><tr><th><a href="datum/ai_behavior.html#var/base_action">base_action</a></th><td>The standard ation of the AI, aka what it should do at the init or when going back to &quot;normal&quot; behavior</td></tr><tr><th><a href="datum/ai_behavior.html#var/combat_target">combat_target</a></th><td>The atom we want to attack at range, separate as we might not be moving in regards to it</td></tr><tr><th><a href="datum/ai_behavior.html#var/current_action">current_action</a></th><td>What the ai is doing right now</td></tr><tr><th><a href="datum/ai_behavior.html#var/current_node">current_node</a></th><td>Current node to use for calculating action states: this is the mob's node</td></tr><tr><th><a href="datum/ai_behavior.html#var/escorted_atom">escorted_atom</a></th><td>What we will escort</td></tr><tr><th><a href="datum/ai_behavior.html#var/fail_goal_path_count">fail_goal_path_count</a></th><td>Count of how many times we've failed to form a path to our goal node</td></tr><tr><th><a href="datum/ai_behavior.html#var/goal_node">goal_node</a></th><td>The node goal of this ai</td></tr><tr><th><a href="datum/ai_behavior.html#var/goal_nodes">goal_nodes</a></th><td>A list of nodes the ai should go to in order to go to goal_node</td></tr><tr><th><a href="datum/ai_behavior.html#var/identifier">identifier</a></th><td>An identifier associated with this behavior, used for accessing specific values of a node's weights</td></tr><tr><th><a href="datum/ai_behavior.html#var/interact_target">interact_target</a></th><td>An atom we want to interact with, such as picking it up</td></tr><tr><th><a href="datum/ai_behavior.html#var/is_offered_on_creation">is_offered_on_creation</a></th><td>If the mob attached to the ai is offered on xeno creation</td></tr><tr><th><a href="datum/ai_behavior.html#var/lower_engage_dist">lower_engage_dist</a></th><td>Range to stay from a hostile target. Inner range</td></tr><tr><th><a href="datum/ai_behavior.html#var/lower_maintain_dist">lower_maintain_dist</a></th><td>How far should we stay away from atom_to_walk_to. Inner range</td></tr><tr><th><a href="datum/ai_behavior.html#var/minimum_health">minimum_health</a></th><td>Minimum health percentage before the ai tries to run away</td></tr><tr><th><a href="datum/ai_behavior.html#var/mob_parent">mob_parent</a></th><td>Ref to the parent associated with this mind</td></tr><tr><th><a href="datum/ai_behavior.html#var/non_aggressive">non_aggressive</a></th><td>Will not look for targets to attack</td></tr><tr><th><a href="datum/ai_behavior.html#var/registered_for_move">registered_for_move</a></th><td>Are we already registered for normal pathfinding</td></tr><tr><th><a href="datum/ai_behavior.html#var/registered_for_node_pathfinding">registered_for_node_pathfinding</a></th><td>Are we waiting for advanced pathfinding</td></tr><tr><th><a href="datum/ai_behavior.html#var/sidestep_prob">sidestep_prob</a></th><td>Prob chance of sidestepping (left or right) when distance maintained with target</td></tr><tr><th><a href="datum/ai_behavior.html#var/target_distance">target_distance</a></th><td>How far will we look for targets</td></tr><tr><th><a href="datum/ai_behavior.html#var/turfs_in_path">turfs_in_path</a></th><td>A list of turfs the ai should go in order to get to atom_to_walk_to</td></tr><tr><th><a href="datum/ai_behavior.html#var/upper_engage_dist">upper_engage_dist</a></th><td>Range to stay from a hostile target. Outer range</td></tr><tr><th><a href="datum/ai_behavior.html#var/upper_escort_dist">upper_escort_dist</a></th><td>How far away we are happy to stray from our escort target</td></tr><tr><th><a href="datum/ai_behavior.html#var/upper_maintain_dist">upper_maintain_dist</a></th><td>How far should we stay away from atom_to_walk_to. Outer range</td></tr><tr><th><a href="datum/ai_behavior.html#var/weak_escort">weak_escort</a></th><td>Should we lose the escorted atom if we change action</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/ai_behavior.html#proc/ai_complete_move">ai_complete_move</a></th><td>Makes a move in a given direction</td></tr><tr><th><a href="datum/ai_behavior.html#proc/ai_do_move">ai_do_move</a></th><td>Tries to move the ai toward its atom_to_walk_to</td></tr><tr><th><a href="datum/ai_behavior.html#proc/ask_for_pathfinding">ask_for_pathfinding</a></th><td>Register on advanced pathfinding subsytem to get a tile pathfinding</td></tr><tr><th><a href="datum/ai_behavior.html#proc/change_action">change_action</a></th><td>Cleanup old state vars, start the movement towards our new target</td></tr><tr><th><a href="datum/ai_behavior.html#proc/clean_escorted_atom">clean_escorted_atom</a></th><td>clean the escorted atom var to avoid harddels</td></tr><tr><th><a href="datum/ai_behavior.html#proc/cleanup_current_action">cleanup_current_action</a></th><td>Cleans up signals related to the action and element(s)</td></tr><tr><th><a href="datum/ai_behavior.html#proc/cleanup_signals">cleanup_signals</a></th><td>Clean every signal on the ai_behavior</td></tr><tr><th><a href="datum/ai_behavior.html#proc/deal_with_obstacle">deal_with_obstacle</a></th><td>Signal handler when the ai is blocked by an obstacle</td></tr><tr><th><a href="datum/ai_behavior.html#proc/do_unset_target">do_unset_target</a></th><td>Unsets a target from any target vars its in</td></tr><tr><th><a href="datum/ai_behavior.html#proc/find_closest_node">find_closest_node</a></th><td>Finds the closest node to an atom</td></tr><tr><th><a href="datum/ai_behavior.html#proc/find_next_dirs">find_next_dirs</a></th><td>Find our movement options</td></tr><tr><th><a href="datum/ai_behavior.html#proc/finished_node_move">finished_node_move</a></th><td>We finished moving to a node, let's pick a random nearby one to travel to</td></tr><tr><th><a href="datum/ai_behavior.html#proc/finished_path_move">finished_path_move</a></th><td>Signal handler when we reached our current tile goal</td></tr><tr><th><a href="datum/ai_behavior.html#proc/get_atom_to_escort">get_atom_to_escort</a></th><td>Finds the most suitable thing to escort</td></tr><tr><th><a href="datum/ai_behavior.html#proc/late_initialize">late_initialize</a></th><td>Set behaviour to base behavior</td></tr><tr><th><a href="datum/ai_behavior.html#proc/look_for_new_state">look_for_new_state</a></th><td>Check if we need to adopt a new state</td></tr><tr><th><a href="datum/ai_behavior.html#proc/look_for_next_node">look_for_next_node</a></th><td>Try to find a node to go to</td></tr><tr><th><a href="datum/ai_behavior.html#proc/look_for_node_path">look_for_node_path</a></th><td>Look for the a* node path to get to goal_node</td></tr><tr><th><a href="datum/ai_behavior.html#proc/look_for_tile_path">look_for_tile_path</a></th><td>Look for the a* tile path to get to atom_to_walk_to</td></tr><tr><th><a href="datum/ai_behavior.html#proc/melee_interact">melee_interact</a></th><td>Sig handler for physical interactions, like attacks</td></tr><tr><th><a href="datum/ai_behavior.html#proc/need_new_combat_target">need_new_combat_target</a></th><td>Returns true if a combat target is no longer valid</td></tr><tr><th><a href="datum/ai_behavior.html#proc/refresh_abilities">refresh_abilities</a></th><td>Refresh abilities-to-consider list</td></tr><tr><th><a href="datum/ai_behavior.html#proc/scheduled_move">scheduled_move</a></th><td>Move the ai and schedule the next move</td></tr><tr><th><a href="datum/ai_behavior.html#proc/set_agressivity">set_agressivity</a></th><td>Set the target distance to be normal (initial) or very low (almost passive)</td></tr><tr><th><a href="datum/ai_behavior.html#proc/set_atom_to_walk_to">set_atom_to_walk_to</a></th><td>Sets our direct movement target</td></tr><tr><th><a href="datum/ai_behavior.html#proc/set_combat_target">set_combat_target</a></th><td>Sets our active combat target</td></tr><tr><th><a href="datum/ai_behavior.html#proc/set_current_node">set_current_node</a></th><td>Set the current node to next_node</td></tr><tr><th><a href="datum/ai_behavior.html#proc/set_escort">set_escort</a></th><td>Finds and sets the most suitable escort candidate, if possible</td></tr><tr><th><a href="datum/ai_behavior.html#proc/set_escorted_atom">set_escorted_atom</a></th><td>Set the escorted atom.</td></tr><tr><th><a href="datum/ai_behavior.html#proc/set_goal_node">set_goal_node</a></th><td>Set the goal node</td></tr><tr><th><a href="datum/ai_behavior.html#proc/set_interact_target">set_interact_target</a></th><td>Sets an interaction target</td></tr><tr><th><a href="datum/ai_behavior.html#proc/should_hold">should_hold</a></th><td>Returns true if the mob should not move for some reason</td></tr><tr><th><a href="datum/ai_behavior.html#proc/should_start_ai">should_start_ai</a></th><td>Whether this ai behavior should start</td></tr><tr><th><a href="datum/ai_behavior.html#proc/start_ai">start_ai</a></th><td>Register ai behaviours</td></tr><tr><th><a href="datum/ai_behavior.html#proc/state_process">state_process</a></th><td>Any state specific process behavior</td></tr><tr><th><a href="datum/ai_behavior.html#proc/try_interact">try_interact</a></th><td>Tries to interact with something, usually nonharmfully</td></tr><tr><th><a href="datum/ai_behavior.html#proc/unregister_action_signals">unregister_action_signals</a></th><td>Cleans up sigs for the current action</td></tr><tr><th><a href="datum/ai_behavior.html#proc/unset_target">unset_target</a></th><td>Sig handler for unsetting a target</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/ability_list"><aside class="declaration">var </aside>ability_list <aside>– /list</aside> <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L60"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 60"></a></h3><p>List of abilities to consider doing every Process()</p><h3 id="var/anti_stuck_timer"><aside class="declaration">var </aside>anti_stuck_timer <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L48"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 48"></a></h3><p>When this timer is up, we force a change of node to ensure that the ai will never stay stuck trying to go to a specific node</p><h3 id="var/atom_to_walk_to"><aside class="declaration">var </aside>atom_to_walk_to <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L10"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 10"></a></h3><p>What atom is the ai moving to</p><h3 id="var/base_action"><aside class="declaration">var </aside>base_action <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L40"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 40"></a></h3><p>The standard ation of the AI, aka what it should do at the init or when going back to &quot;normal&quot; behavior</p><h3 id="var/combat_target"><aside class="declaration">var </aside>combat_target <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 14"></a></h3><p>The atom we want to attack at range, separate as we might not be moving in regards to it</p><h3 id="var/current_action"><aside class="declaration">var </aside>current_action <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L38"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 38"></a></h3><p>What the ai is doing right now</p><h3 id="var/current_node"><aside class="declaration">var </aside>current_node <aside>– /<a href="obj.html">obj</a>/<a href="obj/effect/ai_node.html">effect/ai_node</a></aside> <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 30"></a></h3><p>Current node to use for calculating action states: this is the mob's node</p><h3 id="var/escorted_atom"><aside class="declaration">var </aside>escorted_atom <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 12"></a></h3><p>What we will escort</p><h3 id="var/fail_goal_path_count"><aside class="declaration">var </aside>fail_goal_path_count <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L62"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 62"></a></h3><p>Count of how many times we've failed to form a path to our goal node</p><h3 id="var/goal_node"><aside class="declaration">var </aside>goal_node <aside>– /<a href="obj.html">obj</a>/<a href="obj/effect/ai_node.html">effect/ai_node</a></aside> <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L32"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 32"></a></h3><p>The node goal of this ai</p><h3 id="var/goal_nodes"><aside class="declaration">var </aside>goal_nodes <aside>– /list/<a href="obj.html">obj</a>/<a href="obj/effect/ai_node.html">effect/ai_node</a></aside> <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 34"></a></h3><p>A list of nodes the ai should go to in order to go to goal_node</p><h3 id="var/identifier"><aside class="declaration">var </aside>identifier <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L44"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 44"></a></h3><p>An identifier associated with this behavior, used for accessing specific values of a node's weights</p><h3 id="var/interact_target"><aside class="declaration">var </aside>interact_target <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L16"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 16"></a></h3><p>An atom we want to interact with, such as picking it up</p><h3 id="var/is_offered_on_creation"><aside class="declaration">var </aside>is_offered_on_creation <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L52"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 52"></a></h3><p>If the mob attached to the ai is offered on xeno creation</p><h3 id="var/lower_engage_dist"><aside class="declaration">var </aside>lower_engage_dist <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 24"></a></h3><p>Range to stay from a hostile target. Inner range</p><h3 id="var/lower_maintain_dist"><aside class="declaration">var </aside>lower_maintain_dist <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L20"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 20"></a></h3><p>How far should we stay away from atom_to_walk_to. Inner range</p><h3 id="var/minimum_health"><aside class="declaration">var </aside>minimum_health <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L50"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 50"></a></h3><p>Minimum health percentage before the ai tries to run away</p><h3 id="var/mob_parent"><aside class="declaration">var </aside>mob_parent <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a></aside> <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L42"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 42"></a></h3><p>Ref to the parent associated with this mind</p><h3 id="var/non_aggressive"><aside class="declaration">var </aside>non_aggressive <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L64"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 64"></a></h3><p>Will not look for targets to attack</p><h3 id="var/registered_for_move"><aside class="declaration">var </aside>registered_for_move <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L56"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 56"></a></h3><p>Are we already registered for normal pathfinding</p><h3 id="var/registered_for_node_pathfinding"><aside class="declaration">var </aside>registered_for_node_pathfinding <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L54"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 54"></a></h3><p>Are we waiting for advanced pathfinding</p><h3 id="var/sidestep_prob"><aside class="declaration">var </aside>sidestep_prob <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 28"></a></h3><p>Prob chance of sidestepping (left or right) when distance maintained with target</p><h3 id="var/target_distance"><aside class="declaration">var </aside>target_distance <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L46"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 46"></a></h3><p>How far will we look for targets</p><h3 id="var/turfs_in_path"><aside class="declaration">var </aside>turfs_in_path <aside>– /list/<a href="turf.html">turf</a></aside> <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 36"></a></h3><p>A list of turfs the ai should go in order to get to atom_to_walk_to</p><h3 id="var/upper_engage_dist"><aside class="declaration">var </aside>upper_engage_dist <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L22"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 22"></a></h3><p>Range to stay from a hostile target. Outer range</p><h3 id="var/upper_escort_dist"><aside class="declaration">var </aside>upper_escort_dist <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 26"></a></h3><p>How far away we are happy to stray from our escort target</p><h3 id="var/upper_maintain_dist"><aside class="declaration">var </aside>upper_maintain_dist <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L18"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 18"></a></h3><p>How far should we stay away from atom_to_walk_to. Outer range</p><h3 id="var/weak_escort"><aside class="declaration">var </aside>weak_escort <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L58"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 58"></a></h3><p>Should we lose the escorted atom if we change action</p><h2 id="proc">Proc Details</h2><h3 id="proc/ai_complete_move"><aside class="declaration">proc </aside>ai_complete_move<aside>(move_dir, try_sidestep)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L535"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 535"></a></aside></h3><p>Makes a move in a given direction</p><h3 id="proc/ai_do_move"><aside class="declaration">proc </aside>ai_do_move<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L491"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 491"></a></aside></h3><p>Tries to move the ai toward its atom_to_walk_to</p><h3 id="proc/ask_for_pathfinding"><aside class="declaration">proc </aside>ask_for_pathfinding<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L342"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 342"></a></aside></h3><p>Register on advanced pathfinding subsytem to get a tile pathfinding</p><h3 id="proc/change_action"><aside class="declaration">proc </aside>change_action<aside>(next_action, /<a href="atom.html">atom</a>/next_target, /list/special_distance_to_maintain)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L145"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 145"></a></aside></h3><p>Cleanup old state vars, start the movement towards our new target</p><h3 id="proc/clean_escorted_atom"><aside class="declaration">proc </aside>clean_escorted_atom<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L601"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 601"></a></aside></h3><p>clean the escorted atom var to avoid harddels</p><h3 id="proc/cleanup_current_action"><aside class="declaration">proc </aside>cleanup_current_action<aside>(next_action)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L132"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 132"></a></aside></h3><p>Cleans up signals related to the action and element(s)</p><h3 id="proc/cleanup_signals"><aside class="declaration">proc </aside>cleanup_signals<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L138"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 138"></a></aside></h3><p>Clean every signal on the ai_behavior</p><h3 id="proc/deal_with_obstacle"><aside class="declaration">proc </aside>deal_with_obstacle<aside>(/<a href="datum.html">datum</a>/source, direction)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L248"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 248"></a></aside></h3><p>Signal handler when the ai is blocked by an obstacle</p><h3 id="proc/do_unset_target"><aside class="declaration">proc </aside>do_unset_target<aside>(/<a href="atom.html">atom</a>/old_target, need_new_state, need_new_escort)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L652"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 652"></a></aside></h3><p>Unsets a target from any target vars its in</p><h3 id="proc/find_closest_node"><aside class="declaration">proc </aside>find_closest_node<aside>(/<a href="atom.html">atom</a>/target, avoid_node)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L225"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 225"></a></aside></h3><p>Finds the closest node to an atom</p><h3 id="proc/find_next_dirs"><aside class="declaration">proc </aside>find_next_dirs<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L503"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 503"></a></aside></h3><p>Find our movement options</p><h3 id="proc/finished_node_move"><aside class="declaration">proc </aside>finished_node_move<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L126"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 126"></a></aside></h3><p>We finished moving to a node, let's pick a random nearby one to travel to</p><h3 id="proc/finished_path_move"><aside class="declaration">proc </aside>finished_path_move<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L376"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 376"></a></aside></h3><p>Signal handler when we reached our current tile goal</p><h3 id="proc/get_atom_to_escort"><aside class="declaration">proc </aside>get_atom_to_escort<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L559"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 559"></a></aside></h3><p>Finds the most suitable thing to escort</p><h3 id="proc/late_initialize"><aside class="declaration">proc </aside>late_initialize<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L105"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 105"></a></aside></h3><p>Set behaviour to base behavior</p><h3 id="proc/look_for_new_state"><aside class="declaration">proc </aside>look_for_new_state<aside>(/<a href="atom.html">atom</a>/next_target)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L395"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 395"></a></aside></h3><p>Check if we need to adopt a new state</p><h3 id="proc/look_for_next_node"><aside class="declaration">proc </aside>look_for_next_node<aside>(blacklist_node, should_reset_goal_nodes)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L190"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 190"></a></aside></h3><p>Try to find a node to go to</p><h3 id="proc/look_for_node_path"><aside class="declaration">proc </aside>look_for_node_path<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L358"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 358"></a></aside></h3><p>Look for the a* node path to get to goal_node</p><h3 id="proc/look_for_tile_path"><aside class="declaration">proc </aside>look_for_tile_path<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L346"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 346"></a></aside></h3><p>Look for the a* tile path to get to atom_to_walk_to</p><h3 id="proc/melee_interact"><aside class="declaration">proc </aside>melee_interact<aside>(/<a href="datum.html">datum</a>/source, /<a href="atom.html">atom</a>/interactee, melee_tool)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L314"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 314"></a></aside></h3><p>Sig handler for physical interactions, like attacks</p><h3 id="proc/need_new_combat_target"><aside class="declaration">proc </aside>need_new_combat_target<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L417"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 417"></a></aside></h3><p>Returns true if a combat target is no longer valid</p><h3 id="proc/refresh_abilities"><aside class="declaration">proc </aside>refresh_abilities<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L118"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 118"></a></aside></h3><p>Refresh abilities-to-consider list</p><h3 id="proc/scheduled_move"><aside class="declaration">proc </aside>scheduled_move<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L467"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 467"></a></aside></h3><p>Move the ai and schedule the next move</p><h3 id="proc/set_agressivity"><aside class="declaration">proc </aside>set_agressivity<aside>(/<a href="datum.html">datum</a>/source, should_be_agressive)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L609"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 609"></a></aside></h3><p>Set the target distance to be normal (initial) or very low (almost passive)</p><h3 id="proc/set_atom_to_walk_to"><aside class="declaration">proc </aside>set_atom_to_walk_to<aside>(/<a href="atom.html">atom</a>/new_target)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L614"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 614"></a></aside></h3><p>Sets our direct movement target</p><h3 id="proc/set_combat_target"><aside class="declaration">proc </aside>set_combat_target<aside>(/<a href="atom.html">atom</a>/new_target)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L626"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 626"></a></aside></h3><p>Sets our active combat target</p><h3 id="proc/set_current_node"><aside class="declaration">proc </aside>set_current_node<aside>(/<a href="obj.html">obj</a>/<a href="obj/effect/ai_node.html">effect/ai_node</a>/next_node)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L240"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 240"></a></aside></h3><p>Set the current node to next_node</p><h3 id="proc/set_escort"><aside class="declaration">proc </aside>set_escort<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L551"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 551"></a></aside></h3><p>Finds and sets the most suitable escort candidate, if possible</p><h3 id="proc/set_escorted_atom"><aside class="declaration">proc </aside>set_escorted_atom<aside>(/<a href="datum.html">datum</a>/source, /<a href="atom.html">atom</a>/atom_to_escort, new_escort_is_weak)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L585"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 585"></a></aside></h3><p>Set the escorted atom.</p><h3 id="proc/set_goal_node"><aside class="declaration">proc </aside>set_goal_node<aside>(/<a href="datum.html">datum</a>/source, /<a href="obj.html">obj</a>/<a href="obj/effect/ai_node.html">effect/ai_node</a>/new_goal_node)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L428"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 428"></a></aside></h3><p>Set the goal node</p><h3 id="proc/set_interact_target"><aside class="declaration">proc </aside>set_interact_target<aside>(/<a href="atom.html">atom</a>/new_target)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L636"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 636"></a></aside></h3><p>Sets an interaction target</p><h3 id="proc/should_hold"><aside class="declaration">proc </aside>should_hold<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L481"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 481"></a></aside></h3><p>Returns true if the mob should not move for some reason</p><h3 id="proc/should_start_ai"><aside class="declaration">proc </aside>should_start_ai<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L89"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 89"></a></aside></h3><p>Whether this ai behavior should start</p><h3 id="proc/start_ai"><aside class="declaration">proc </aside>start_ai<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L95"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 95"></a></aside></h3><p>Register ai behaviours</p><h3 id="proc/state_process"><aside class="declaration">proc </aside>state_process<aside>()  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L424"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 424"></a></aside></h3><p>Any state specific process behavior</p><h3 id="proc/try_interact"><aside class="declaration">proc </aside>try_interact<aside>(/<a href="atom.html">atom</a>/interactee)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L338"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 338"></a></aside></h3><p>Tries to interact with something, usually nonharmfully</p><h3 id="proc/unregister_action_signals"><aside class="declaration">proc </aside>unregister_action_signals<aside>(action_type)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L462"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 462"></a></aside></h3><p>Cleans up sigs for the current action</p><h3 id="proc/unset_target"><aside class="declaration">proc </aside>unset_target<aside>(/<a href="atom.html">atom</a>/source)  <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/5afaf750b713b008001fd407fbc42fb5cfc7d171/code/modules/ai/ai_behaviors/ai_behavior.dm#L647"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_behaviors/ai_behavior.dm 647"></a></aside></h3><p>Sig handler for unsetting a target</p></main><footer>tgmc.dme <a href="https://github.com/Zeldazackman/NTFvsAlien/tree/5afaf750b713b008001fd407fbc42fb5cfc7d171">5afaf75</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>