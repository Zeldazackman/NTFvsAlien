<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;scanner_advice - byond</title>
</head>
<body>
<header>
    <a href="index.html">byond</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/scanner_advice.html#var">Var Details</a> - <a href="datum/scanner_advice.html#proc">Proc Details</a></header>
<main>
<h1>scanner_advice <aside>/<a href="datum.html">datum</a>/<a href="datum/scanner_advice.html">scanner_advice</a></aside>
        
    
            <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/2c3fba7e7986c8275f4a1da1e3bd0aeec3aeeb16/code/datums/health_scan/_advice.dm#L21">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;health_scan&#x2F;_advice.dm 21"/></a></h1>

<p>Represents an individual, situational advice entry in the health analyzer.</p>
<p>Each datum that isn't abstract is initialized and placed in <code>GLOB.scanner_advice</code>.</p>
<p>When health analyzers handle advice they will iterate through this global list and
call <a href="datum/scanner_advice.html#proc/can_show" title="/datum/scanner_advice">/datum/scanner_advice/proc/can_show</a>, if it returns TRUE we move on to
<a href="datum/scanner_advice.html#proc/get_data" title="/datum/scanner_advice">/datum/scanner_advice/proc/get_data</a> and feed the list that returns into the analyzer's UI data.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="datum/scanner_advice.html#var/abstract_type">abstract_type</a></th><td>Won't initialize if our type is this</td></tr>
            <tr><th><a href="datum/scanner_advice.html#var/priority">priority</a></th><td>Order this will be initialized and therefore show in the advice section.
Multiple datums using the same priority will show in BYOND declarative order.
Used for controlling the order that advice shows like the old system.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/scanner_advice.html#proc/can_show">can_show</a></th><td>Proc for if this advice is eligible to show up in the health analyzer.</td></tr>
            <tr><th><a href="datum/scanner_advice.html#proc/get_data">get_data</a></th><td>Proc for getting the data of this advice. Returning multiple lists is supported.</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/abstract_type"><aside class="declaration">var </aside>abstract_type
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/2c3fba7e7986c8275f4a1da1e3bd0aeec3aeeb16/code/datums/health_scan/_advice.dm#L27">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;health_scan&#x2F;_advice.dm 27"/></a></h3>
        <p>Won't initialize if our type is this</p><h3 id="var/priority"><aside class="declaration">var </aside>priority
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/2c3fba7e7986c8275f4a1da1e3bd0aeec3aeeb16/code/datums/health_scan/_advice.dm#L25">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;health_scan&#x2F;_advice.dm 25"/></a></h3>
        <p>Order this will be initialized and therefore show in the advice section.
Multiple datums using the same priority will show in BYOND declarative order.
Used for controlling the order that advice shows like the old system.</p><h2 id="proc">Proc Details</h2><h3 id="proc/can_show"><aside class="declaration">proc </aside>can_show<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/patient, /<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/2c3fba7e7986c8275f4a1da1e3bd0aeec3aeeb16/code/datums/health_scan/_advice.dm#L35">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;health_scan&#x2F;_advice.dm 35"/></a></aside>
        </h3>
        <p>Proc for if this advice is eligible to show up in the health analyzer.</p>
<p>If the return value is non-null <code>get_data</code> will be called for getting the advvice
contents, otherwise ignored.</p><h3 id="proc/get_data"><aside class="declaration">proc </aside>get_data<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/patient, /<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/Zeldazackman/NTFvsAlien/blob/2c3fba7e7986c8275f4a1da1e3bd0aeec3aeeb16/code/datums/health_scan/_advice.dm#L75">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;health_scan&#x2F;_advice.dm 75"/></a></aside>
        </h3>
        <p>Proc for getting the data of this advice. Returning multiple lists is supported.</p>
<p>This system looks dumber than just static vars/etc, <em>but</em> static data can't be viable for
everything, since some datums want to change their data based on species and other factors.</p>
<p>Usage rules:</p>
<ul>
<li>Keys are not optional. TGUI won't bluescreen if one is missing, but it is quite jarring for users if something is empty/default.</li>
<li>The name of every entry must be kept short so it doesn't span more than one line on the default width of the UI.</li>
<li>HTML tags like <code>&lt;b&gt;</code>/<code>&lt;i&gt;</code>/etc may not be used in names or tooltips. TGUI can't use these tags outside of compile time expressions.</li>
</ul>
<p>Examples:</p>
<pre><code class="language-dm">// single advice:
. = list(
	ADVICE_TEXT = &quot;Friend detected :)&quot;
	ADVICE_TOOLTIP = &quot;FontAwesome worm please save me&quot;
	ADVICE_ICON = FA_ICON_WORM,
	ADVICE_ICON_COLOR = &quot;#FF99FF&quot; // this can be a hex code, a tgui map color or juke map color
)
...
// multiple entries:
. = list()
. += list(list(
	ADVICE_TEXT = &quot;Wormy detected :)&quot;
	ADVICE_TOOLTIP = &quot;FontAwesome worm please save me&quot;
	ADVICE_ICON = FA_ICON_WORM,
	ADVICE_ICON_COLOR = &quot;#FF99FF&quot;
))
. += list(list(
	ADVICE_TEXT = &quot;Feline detected :)&quot;
	ADVICE_TOOLTIP = &quot;FontAwesome cat please save me&quot;
	ADVICE_ICON = FA_ICON_CAT,
	ADVICE_ICON_COLOR = &quot;#FFCCFF&quot;
))
</code></pre></main>
<footer>
    tgmc.dme
    <a href="https://github.com/Zeldazackman/NTFvsAlien/tree/2c3fba7e7986c8275f4a1da1e3bd0aeec3aeeb16">2c3fba7</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.8.0</a></footer>
</body>
</html>
